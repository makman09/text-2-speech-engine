<main>
  <section class='min-vh-100 d-flex flex-column justify-content-center align-items-center'>
    <!-- Text Input -->
    <form class='col-sm-4'>
      <div class="form-group">
        <textarea name="text" [(ngModel)]="text" class="form-control" id="text" maxlength="200" placeholder="Enter text here (max 200 characters)" rows="5"></textarea>
        <span class="pull-right label label-default" id="count_message">
          {{text.length}}/{{textMax}}
        </span>
      </div>
      <div class='w-100 d-flex justify-content-center'>
        <button [disabled]='loading' (click)="generate()" class="btn btn-primary">Generate</button>
      </div>
    </form>
    <div *ngIf='loading' class="spinner-border text-primary my-3" role="status">
      <span class="sr-only">Loading...</span>
    </div>
    <!-- Waveform preview -->
    <div class='mt-3'>
      <div id="waveform"></div>
    </div>
    <div class='d-flex justify-content-center align-items-center my-3' *ngIf='hasSampleLoaded' >
      <button (click)="playPause()" class="btn btn-primary mx-3">Play/Pause</button>
      <a href="{{sampleLink}}" class='btn btn-primary mx-3' role='button' target="_blank">Download</a>
    </div>
  </section>
</main>